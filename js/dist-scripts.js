let a = function () { let g = [], b = document.querySelector("#modal-container"); function c(a) { a.name && a.detailsUrl ? g.push(a) : console.log("Pokemon is not correct") } function d() { return g } function e(a) { f(a).then(function () { h(a) }) } function h(a) { let b = $(".modal-body"), c = $(".modal-title"); c.empty(), b.empty(); let d = $(`<h5 class="text-uppercase">${a.name}</h5>`), e = $(`<img class="rounded mx-auto d-block w-50 p-3" src='${a.imageUrl}' alt="Picture of the Pokemon ${a.name}">`), f = $(`<p class="ml-4 mt-3 mb-0">Height: ${a.height}</p>'`), g = $(`<p class= ml-4 mb-0>Weight: ${a.weight}</p>`); $(`<p class = ml-4 mb-0>Types: ${a.types}</p>`), c.append(d), b.append(e), b.append(f), b.append(g) } function i() { b.classList.remove("is-visible") } function a() { let a = $("input").val(); $("li").each(function () { let b = $(this); b.text().startsWith(a) ? b.show() : b.hide() }) } function f(a) { return fetch(a.detailsUrl).then(function (a) { return a.json() }).then(function (b) { a.imageUrl = b.sprites.front_default, a.height = b.height, a.weight = b.weight }).catch(function (a) { console.error(a) }) } return $("input").on("input", a), window.addEventListener("keydown", a => { "Escape" === a.key && b.classList.contains("is-visible") && i() }), b.addEventListener("click", a => { a.target === b && i() }), { getAll: d, add: c, addListItem: function (c) { let d = document.querySelector(".pokemon-list"), b = document.createElement("li"); b.classList.add("col-xs-8", "col-sm-8", "col-8", "mx-auto"); let a = document.createElement("button"); a.innerText = c.name, a.classList.add("btn", "button-class", "btn-outline-primary", "btn-lg", "btn-block", "text-capitalize"), b.appendChild(a), a.setAttribute("data-toggle", "modal"), a.setAttribute("data-target", ".modal"), d.appendChild(b), function (a, b) { a.addEventListener("click", function () { e(b) }) }(a, c) }, loadList: function () { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=20").then(function (a) { return a.json() }).then(function (a) { a.results.forEach(function (a) { let b = { name: a.name, detailsUrl: a.url }; c(b), console.log(b) }) }).catch(function (a) { console.error(a) }) }, loadDetails: f, showDetails: e, filterList: a } }(); a.loadList().then(function () { a.getAll().forEach(function (b) { a.addListItem(b) }) })